"use strict";(self["webpackChunkSaDec"]=self["webpackChunkSaDec"]||[]).push([[755],{73:function(a,t,e){e.d(t,{x:function(){return l}});const i=a=>({id:a.id,stt:a.stt,parentId:a.parentId,tenCauHoi:a.tenCauHoi,diemNhoNhat:Number(parseFloat(a.diemNhoNhat).toFixed(2)),buocNhay:Number(parseFloat(a.buocNhay).toFixed(3)),diemLonNhat:Number(parseFloat(a.diemLonNhat).toFixed(2)),loaiDieuKien:a.loaiDieuKien,loaiCauHoi:a.loaiCauHoi,danhDauCau:a.danhDauCau,kieuNhapLieu:2===a.danhDauCau||3===a.danhDauCau?a.kieuNhapLieu:null,maDanhMuc:a.maDanhMuc,sapXep:a.sapXep,trangThai:a.trangThai}),n=a=>({id:a.id,stt:a.stt,parentId:a.parentId,tenCauHoi:a.tenCauHoi,diemNhoNhat:Number(parseFloat(a.diemNhoNhat).toFixed(2)),buocNhay:Number(parseFloat(a.buocNhay).toFixed(3)),diemLonNhat:Number(parseFloat(a.diemLonNhat).toFixed(2)),loaiDieuKien:a.loaiDieuKien,loaiCauHoi:a.loaiCauHoi,danhDauCau:a.danhDauCau,kieuNhapLieu:2===a.danhDauCau||3===a.danhDauCau?a.kieuNhapLieu:null,maDanhMuc:a.maDanhMuc,sapXep:a.sapXep,childrenCount:a?.children_count??0,level:a?.level??0,bangdiem:a.bangdiem,donViThamDinh:a.donvithamdinh?a.donvithamdinh.maDonVi:0,trangThai:a.trangThai,ykien:a.ykien}),o=()=>({id:null,parentId:0,stt:null,tenCauHoi:null,diemNhoNhat:"0",buocNhay:"0",diemLonNhat:"0",maDanhMuc:null,loaiDieuKien:"AND",loaiCauHoi:1,danhDauCau:0,kieuNhapLieu:null,sapXep:1,trangThai:1}),l={toJson:i,fromJson:n,baseJson:o}},4467:function(a,t,e){e.r(t),e.d(t,{default:function(){return _}});var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("LayoutDefault",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("IBreadcrumb",{attrs:{items:a.breadcrumbs}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-toolbar",{attrs:{dense:"",elevation:"0"}},[e("v-toolbar-title",[a._v("DANH SÁCH")]),e("v-spacer"),e("v-text-field",{staticClass:"mr-2",staticStyle:{"max-width":"210px"},attrs:{label:"Tìm kiếm",placeholder:"Nhập từ khóa","hide-details":"",dense:""},model:{value:a.keySearch,callback:function(t){a.keySearch=t},expression:"keySearch"}}),e("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on;return[e("v-btn",a._g({attrs:{icon:"",color:"primary",to:"CauHoi/ThemMoi"}},i),[e("v-icon",[a._v(" mdi-plus-circle ")])],1)]}}])},[e("span",[a._v("Thêm mới")])]),e("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on;return[e("span",a._g({},i),[e("v-btn",{staticClass:"mr-1",attrs:{color:"error",icon:"",disabled:0===a.rowSelected.length},on:{click:function(t){return a.fnConfirm(!0)}}},[e("v-icon",[a._v("mdi-delete-circle")])],1)],1)]}}])},[e("span",[a._v("Xóa ")])])],1),e("v-divider"),e("IDataTable",{attrs:{headers:a.headers,items:a.items,total:a.totalRow,loading:a.loading},on:{"datatable::pagination":function(t){a.pagination=t},"datatable::selected":function(t){a.rowSelected=t}},scopedSlots:a._u([{key:"item.capTren.tenCauHoi",fn:function(t){var i=t.value;return[e("span",i?[a._v(a._s(i))]:[a._v("-")])]}},{key:"item.action",fn:function(t){var i=t.item;return[e("ContextMenu",{attrs:{items:[{name:"Chỉnh sửa",icon:"mdi-file-document-edit-outline",color:"blue",url:"CauHoi/"+i.id},{name:"Xóa",icon:"mdi-delete-circle",color:"red",fn:function(){return a.fnConfirm(!1,i)}}]}})]}}],null,!0)})],1),e("v-dialog",{attrs:{scrollable:"","max-width":"400px"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",{attrs:{width:"400"}},[e("v-card-title",[a._v("HỆ THỐNG")]),e("v-divider"),e("v-card-text",{staticClass:"pa-4"},[e("p",{staticStyle:{"font-size":"15px"}},[a._v(" Mọi thông tin liên quan sẽ bị mất theo. Bạn chắc chắn muốn xóa? ")])]),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{elevation:"0",color:"warning darken-1"},on:{click:function(t){a.dialog=!1}}},[a._v(" Không ")]),e("v-btn",{attrs:{dark:"",elevation:"0",color:"red"},on:{click:a.fnDelete}},[a._v(" Có ")])],1)],1)],1)],1)],1)],1)},n=[],o=e(73),l=e(3578),r=e(4472),s=e(993),u=e(2013),d={name:"CauHoi-index",components:{LayoutDefault:l.Z,IBreadcrumb:u.Z,IDataTable:r.Z,ContextMenu:s.Z},data(){return{breadcrumbs:[{text:"DASHBOARD",disabled:!1,href:"Dashboard"},{text:"TIÊU CHÍ ĐÁNH GIÁ",disabled:!1,href:"/Auth/KhaoSat/CauHoi"}],singleSelected:{},rowSelected:[],pagination:null,keySearch:null,headers:[{text:"STT",value:"stt",width:30,sortable:!1},{text:"Tiêu chí",value:"tenCauHoi",width:320},{text:"Cấp trên",value:"capTren.tenCauHoi",width:320,sortable:!1},{text:"Bộ tiêu chí",value:"danhMuc.tenDanhMuc",width:290,sortable:!1},{text:null,value:"action",align:"right",width:50,sortable:!1}],items:[],totalRow:0,loading:!1,dialog:!1}},watch:{pagination(){this.fnGetList()},keySearch(){clearTimeout(this._timerId),this._timerId=setTimeout((()=>{this.fnGetList()}),600)}},methods:{async fnGetList(){this.loading=!0,await this.$axios.get("auth/khao-sat/cau-hoi",{params:{page:this.pagination.page,limit:this.pagination.itemsPerPage,sortBy:this.pagination.sortBy[0],sortDesc:this.pagination.sortDesc[0]?1:0,content:this.keySearch}}).then((a=>{this.items=a.data.data.map((a=>o.x.fromJson(a))),this.totalRow=a.data.totalRow})).finally((()=>{this.loading=!1}))},fnConfirm(a,t){this.dialog=!0,a||(this.singleSelected=t,this.rowSelected=[])},async fnDelete(){this.dialog=!1;let a=[];this.rowSelected.length>0?a=this.rowSelected.map((a=>a.id)):a.push(this.singleSelected?.id),await this.$axios.post("auth/khao-sat/cau-hoi/xoa-cau-hoi",{ids:a}).then((a=>{this.$store.dispatch("SnackbarStore/showSnackBar",a.data),this.fnGetList()})).catch()}}},c=d,h=e(1001),m=e(3453),p=e.n(m),v=e(680),b=e(2371),f=e(7118),C=e(2102),g=e(4497),D=e(1418),N=e(6428),k=e(2877),x=e(9762),S=e(5978),y=e(6656),w=e(7921),T=e(9330),H=(0,h.Z)(c,i,n,!1,null,null,null),_=H.exports;p()(H,{VBtn:v.Z,VCard:b.Z,VCardActions:f.h7,VCardText:f.ZB,VCardTitle:f.EB,VCol:C.Z,VDialog:g.Z,VDivider:D.Z,VIcon:N.Z,VRow:k.Z,VSpacer:x.Z,VTextField:S.Z,VToolbar:y.Z,VToolbarTitle:w.qW,VTooltip:T.Z})}}]);
//# sourceMappingURL=755.ce11ef59.js.map
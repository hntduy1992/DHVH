"use strict";(self["webpackChunkSaDec"]=self["webpackChunkSaDec"]||[]).push([[942],{45849:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LayoutDefault",[a("validation-observer",{ref:"observer"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("IBreadcrumb",{attrs:{items:e.breadcrumbs}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",elevation:"0"}},[a("v-toolbar-title",[e._v("THÔNG TIN")])],1),a("v-divider"),a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("VAutoCompleteValidation",{attrs:{dense:"",outlined:"",label:"Bộ tiêu chí","item-value":"id","item-text":"name","return-object":!1,rules:{required:!0},items:e.categories,clearable:""},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("VAutoCompleteValidation",{attrs:{dense:"",outlined:"",label:"Tiêu chí cha","item-value":"id","item-text":"name",items:e.questions,"return-object":!1,loading:e.isLoading,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("span",{style:{"text-indent":10*i.level+"px","font-size":"12px"}},[e._v(e._s(i.stt)+" "+e._s(i.name))])]}}]),model:{value:e.item.parentId,callback:function(t){e.$set(e.item,"parentId",t)},expression:"item.parentId"}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"1"}},[a("VTextValidation",{attrs:{dense:"",outlined:"",label:"Số thứ tự"},model:{value:e.item.stt,callback:function(t){e.$set(e.item,"stt",t)},expression:"item.stt"}})],1),a("v-col",{attrs:{cols:"12",sm:"10",md:"11"}},[a("VTextValidation",{attrs:{dense:"",outlined:"",label:"Tiêu chí",rules:{required:!0}},model:{value:e.item.tenCauHoi,callback:function(t){e.$set(e.item,"tenCauHoi",t)},expression:"item.tenCauHoi"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("VTextValidation",{attrs:{dense:"",outlined:"",label:"Điểm nhỏ nhất",rules:{required:!0}},model:{value:e.item.diemNhoNhat,callback:function(t){e.$set(e.item,"diemNhoNhat",t)},expression:"item.diemNhoNhat"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("VTextValidation",{attrs:{dense:"",outlined:"",label:"Bước nhảy",rules:{required:!0}},model:{value:e.item.buocNhay,callback:function(t){e.$set(e.item,"buocNhay",t)},expression:"item.buocNhay"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("VTextValidation",{attrs:{dense:"",outlined:"",label:"Điểm lớn nhất",rules:{required:!0}},model:{value:e.item.diemLonNhat,callback:function(t){e.$set(e.item,"diemLonNhat",t)},expression:"item.diemLonNhat"}})],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[a("v-select",{attrs:{dense:"",outlined:"",label:"Điều kiện","item-text":"name","item-value":"code",items:[{code:"AND",name:"AND (và)"},{code:"OR",name:"OR (hoặc)"}]},model:{value:e.item.loaiDieuKien,callback:function(t){e.$set(e.item,"loaiDieuKien",t)},expression:"item.loaiDieuKien"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"2"}},[a("v-select",{attrs:{dense:"",outlined:"",label:"Đánh dấu câu","item-text":"name","item-value":"code",items:[{code:0,name:"Câu hỏi cấp trên"},{code:1,name:"Câu hỏi"},{code:2,name:"Câu trả lời"},{code:3,name:"Câu đặc biệt"}]},model:{value:e.item.danhDauCau,callback:function(t){e.$set(e.item,"danhDauCau",t)},expression:"item.danhDauCau"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"2"}},[a("v-select",{attrs:{dense:"",outlined:"",label:"Kiểu nhập điểm","item-text":"name","item-value":"code",disabled:2!=e.item.danhDauCau&&3!=e.item.danhDauCau,items:[{code:"Text",name:"Nhập điểm (Input)"},{code:"Select",name:"Chọn điểm (Select)"},{code:"Checkbox",name:"Chọn điểm (Checkbox)"},{code:"Radio",name:"Chọn điểm (Radio)"}]},model:{value:e.item.kieuNhapLieu,callback:function(t){e.$set(e.item,"kieuNhapLieu",t)},expression:"item.kieuNhapLieu"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"6"}},[a("v-select",{attrs:{dense:"",outlined:"",label:"Loại tiêu chí","item-text":"name","item-value":"code",items:[{code:1,name:"Đánh giá"},{code:2,name:"Điều tra xã hội học"}]},model:{value:e.item.loaiCauHoi,callback:function(t){e.$set(e.item,"loaiCauHoi",t)},expression:"item.loaiCauHoi"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-select",{attrs:{dense:"",outlined:"",label:"Trạng thái","item-text":"name","item-value":"id",items:[{id:1,name:"Mở"},{id:2,name:"Đóng"}],"return-object":!1,"hide-details":""},model:{value:e.item.trangThai,callback:function(t){e.$set(e.item,"trangThai",t)},expression:"item.trangThai"}})],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{elevation:"0",shaped:"",color:"warning"},on:{click:e.fnReset}},[a("v-icon",[e._v("mdi-reload")]),e._v(" Làm lại ")],1),a("v-btn",{attrs:{elevation:"0",shaped:"",color:"error"},on:{click:e.fnSubmit}},[a("v-icon",[e._v("mdi-content-save")]),e._v(" Lưu lại ")],1)],1)],1)],1)],1)],1)],1)},n=[],o=a(67906),s=a(16198),r=(a(21249),a(41539),a(12954)),l=a(45486),c=a(90073),u=a(77867),d=a(33578),m=a(42013),h={components:{LayoutDefault:d.Z,VAutoCompleteValidation:u.Z,VTextValidation:l.Z,ValidationObserver:r._j,IBreadcrumb:m.Z},data:function(){return{breadcrumbs:[{text:"DASHBOARD",disabled:!1,href:"Dashboard"},{text:"TIÊU CHÍ ĐÁNH GIÁ",disabled:!1,href:"/Auth/KhaoSat/CauHoi"},{text:"Cập Nhật Thông Tin",disabled:!1,href:""}],loading:!1,isLoading:!1,item:c.x.baseJson(),categoryId:null,categories:[],questions:[]}},watch:{categoryId:function(e){this.item.maDanhMuc=e,this.fnGetQuestions()}},created:function(){this.fnGetCategories(),this.fnGetDetail()},methods:{fnGetCategories:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("auth/khao-sat/danh-muc/select").then((function(t){e.categories=t.data.data.map((function(e){return{id:e.id,name:e.tenDanhMuc}}))})).catch();case 2:case"end":return t.stop()}}),t)})))()},fnGetQuestions:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$axios.get("auth/khao-sat/cau-hoi/tree",{params:{categoryId:e.categoryId}}).then((function(t){e.questions=t.data.data.map((function(e){return{id:e.id,stt:e.stt,level:e.level,name:e.tenCauHoi}}))})).finally((function(){e.isLoading=!1}));case 3:case"end":return t.stop()}}),t)})))()},fnGetDetail:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("auth/khao-sat/cau-hoi/id/"+e.$route.params.id).then((function(t){e.item=c.x.fromJson(t.data.data),e.categoryId=e.item.maDanhMuc}));case 2:case"end":return t.stop()}}),t)})))()},fnSubmit:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){var a;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$refs.observer.validate();case 3:if(a=t.sent,a){t.next=7;break}return e.loading=!1,t.abrupt("return",!1);case 7:e.$axios.post("auth/khao-sat/cau-hoi/id/"+e.$route.params.id,c.x.toJson(e.item)).then((function(t){e.$store.dispatch("SnackbarStore/showSnackBar",t.data),e.fnReset()})).catch().finally((function(){e.loading=!1}));case 8:case"end":return t.stop()}}),t)})))()},fnReset:function(){var e=this;return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fnGetDetail();case 2:case"end":return t.stop()}}),t)})))()}}},v=h,f=a(1001),b=a(43453),p=a.n(b),x=a(680),k=a(32371),C=a(37118),g=a(82102),V=a(11418),Z=a(96428),D=a(62877),w=a(43986),N=a(36656),T=a(27921),$=(0,f.Z)(v,i,n,!1,null,null,null),y=$.exports;p()($,{VBtn:x.Z,VCard:k.Z,VCardActions:C.h7,VCardText:C.ZB,VCol:g.Z,VDivider:V.Z,VIcon:Z.Z,VRow:D.Z,VSelect:w.Z,VToolbar:N.Z,VToolbarTitle:T.qW})}}]);
//# sourceMappingURL=942-legacy.e8634def.js.map
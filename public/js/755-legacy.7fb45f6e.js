"use strict";(self["webpackChunkSaDec"]=self["webpackChunkSaDec"]||[]).push([[755],{90073:function(t,a,e){e.d(a,{x:function(){return r}});e(9653),e(56977);var n=function(t){return{id:t.id,stt:t.stt,parentId:t.parentId,tenCauHoi:t.tenCauHoi,diemNhoNhat:Number(parseFloat(t.diemNhoNhat).toFixed(2)),buocNhay:Number(parseFloat(t.buocNhay).toFixed(3)),diemLonNhat:Number(parseFloat(t.diemLonNhat).toFixed(2)),loaiDieuKien:t.loaiDieuKien,loaiCauHoi:t.loaiCauHoi,danhDauCau:t.danhDauCau,kieuNhapLieu:2===t.danhDauCau||3===t.danhDauCau?t.kieuNhapLieu:null,maDanhMuc:t.maDanhMuc,sapXep:t.sapXep,trangThai:t.trangThai}},i=function(t){var a,e;return{id:t.id,stt:t.stt,parentId:t.parentId,tenCauHoi:t.tenCauHoi,diemNhoNhat:Number(parseFloat(t.diemNhoNhat).toFixed(2)),buocNhay:Number(parseFloat(t.buocNhay).toFixed(3)),diemLonNhat:Number(parseFloat(t.diemLonNhat).toFixed(2)),loaiDieuKien:t.loaiDieuKien,loaiCauHoi:t.loaiCauHoi,danhDauCau:t.danhDauCau,kieuNhapLieu:2===t.danhDauCau||3===t.danhDauCau?t.kieuNhapLieu:null,maDanhMuc:t.maDanhMuc,sapXep:t.sapXep,childrenCount:null!==(a=null===t||void 0===t?void 0:t.children_count)&&void 0!==a?a:0,level:null!==(e=null===t||void 0===t?void 0:t.level)&&void 0!==e?e:0,bangdiem:t.bangdiem,donViThamDinh:t.donvithamdinh?t.donvithamdinh.maDonVi:0,trangThai:t.trangThai,ykien:t.ykien}},o=function(){return{id:null,parentId:0,stt:null,tenCauHoi:null,diemNhoNhat:"0",buocNhay:"0",diemLonNhat:"0",maDanhMuc:null,loaiDieuKien:"AND",loaiCauHoi:1,danhDauCau:0,kieuNhapLieu:null,sapXep:1,trangThai:1}},r={toJson:n,fromJson:i,baseJson:o}},4467:function(t,a,e){e.r(a),e.d(a,{default:function(){return V}});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("LayoutDefault",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("IBreadcrumb",{attrs:{items:t.breadcrumbs}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-toolbar",{attrs:{dense:"",elevation:"0"}},[e("v-toolbar-title",[t._v("DANH SÁCH")]),e("v-spacer"),e("v-text-field",{staticClass:"mr-2",staticStyle:{"max-width":"210px"},attrs:{label:"Tìm kiếm",placeholder:"Nhập từ khóa","hide-details":"",dense:""},model:{value:t.keySearch,callback:function(a){t.keySearch=a},expression:"keySearch"}}),e("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("v-btn",t._g({attrs:{icon:"",color:"primary",to:"CauHoi/ThemMoi"}},n),[e("v-icon",[t._v(" mdi-plus-circle ")])],1)]}}])},[e("span",[t._v("Thêm mới")])]),e("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("span",t._g({},n),[e("v-btn",{staticClass:"mr-1",attrs:{color:"error",icon:"",disabled:0===t.rowSelected.length},on:{click:function(a){return t.fnConfirm(!0)}}},[e("v-icon",[t._v("mdi-delete-circle")])],1)],1)]}}])},[e("span",[t._v("Xóa ")])])],1),e("v-divider"),e("IDataTable",{attrs:{headers:t.headers,items:t.items,total:t.totalRow,loading:t.loading},on:{"datatable::pagination":function(a){t.pagination=a},"datatable::selected":function(a){t.rowSelected=a}},scopedSlots:t._u([{key:"item.capTren.tenCauHoi",fn:function(a){var n=a.value;return[e("span",n?[t._v(t._s(n))]:[t._v("-")])]}},{key:"item.action",fn:function(a){var n=a.item;return[e("ContextMenu",{attrs:{items:[{name:"Chỉnh sửa",icon:"mdi-file-document-edit-outline",color:"blue",url:"CauHoi/"+n.id},{name:"Xóa",icon:"mdi-delete-circle",color:"red",fn:function(){return t.fnConfirm(!1,n)}}]}})]}}],null,!0)})],1),e("v-dialog",{attrs:{scrollable:"","max-width":"400px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",{attrs:{width:"400"}},[e("v-card-title",[t._v("HỆ THỐNG")]),e("v-divider"),e("v-card-text",{staticClass:"pa-4"},[e("p",{staticStyle:{"font-size":"15px"}},[t._v(" Mọi thông tin liên quan sẽ bị mất theo. Bạn chắc chắn muốn xóa? ")])]),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{elevation:"0",color:"warning darken-1"},on:{click:function(a){t.dialog=!1}}},[t._v(" Không ")]),e("v-btn",{attrs:{dark:"",elevation:"0",color:"red"},on:{click:t.fnDelete}},[t._v(" Có ")])],1)],1)],1)],1)],1)],1)},i=[],o=e(67906),r=e(16198),l=(e(41539),e(21249),e(90073)),u=e(33578),c=e(94472),d=e(30993),s=e(42013),h={name:"CauHoi-index",components:{LayoutDefault:u.Z,IBreadcrumb:s.Z,IDataTable:c.Z,ContextMenu:d.Z},data:function(){return{breadcrumbs:[{text:"DASHBOARD",disabled:!1,href:"Dashboard"},{text:"TIÊU CHÍ ĐÁNH GIÁ",disabled:!1,href:"/Auth/KhaoSat/CauHoi"}],singleSelected:{},rowSelected:[],pagination:null,keySearch:null,headers:[{text:"STT",value:"stt",width:30,sortable:!1},{text:"Tiêu chí",value:"tenCauHoi",width:320},{text:"Cấp trên",value:"capTren.tenCauHoi",width:320,sortable:!1},{text:"Bộ tiêu chí",value:"danhMuc.tenDanhMuc",width:290,sortable:!1},{text:null,value:"action",align:"right",width:50,sortable:!1}],items:[],totalRow:0,loading:!1,dialog:!1}},watch:{pagination:function(){this.fnGetList()},keySearch:function(){var t=this;clearTimeout(this._timerId),this._timerId=setTimeout((function(){t.fnGetList()}),600)}},methods:{fnGetList:function(){var t=this;return(0,r.Z)((0,o.Z)().mark((function a(){return(0,o.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,t.$axios.get("auth/khao-sat/cau-hoi",{params:{page:t.pagination.page,limit:t.pagination.itemsPerPage,sortBy:t.pagination.sortBy[0],sortDesc:t.pagination.sortDesc[0]?1:0,content:t.keySearch}}).then((function(a){t.items=a.data.data.map((function(t){return l.x.fromJson(t)})),t.totalRow=a.data.totalRow})).finally((function(){t.loading=!1}));case 3:case"end":return a.stop()}}),a)})))()},fnConfirm:function(t,a){this.dialog=!0,t||(this.singleSelected=a,this.rowSelected=[])},fnDelete:function(){var t=this;return(0,r.Z)((0,o.Z)().mark((function a(){var e,n;return(0,o.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialog=!1,e=[],t.rowSelected.length>0?e=t.rowSelected.map((function(t){return t.id})):e.push(null===(n=t.singleSelected)||void 0===n?void 0:n.id),a.next=5,t.$axios.post("auth/khao-sat/cau-hoi/xoa-cau-hoi",{ids:e}).then((function(a){t.$store.dispatch("SnackbarStore/showSnackBar",a.data),t.fnGetList()})).catch();case 5:case"end":return a.stop()}}),a)})))()}}},p=h,m=e(1001),v=e(43453),f=e.n(v),b=e(680),C=e(32371),g=e(37118),D=e(82102),x=e(4497),k=e(11418),N=e(96428),w=e(62877),S=e(99762),T=e(55978),y=e(36656),H=e(27921),Z=e(19330),_=(0,m.Z)(p,n,i,!1,null,null,null),V=_.exports;f()(_,{VBtn:b.Z,VCard:C.Z,VCardActions:g.h7,VCardText:g.ZB,VCardTitle:g.EB,VCol:D.Z,VDialog:x.Z,VDivider:k.Z,VIcon:N.Z,VRow:w.Z,VSpacer:S.Z,VTextField:T.Z,VToolbar:y.Z,VToolbarTitle:H.qW,VTooltip:Z.Z})}}]);
//# sourceMappingURL=755-legacy.7fb45f6e.js.map
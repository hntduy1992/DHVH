"use strict";(self["webpackChunkSaDec"]=self["webpackChunkSaDec"]||[]).push([[681],{21673:function(t,e,n){n.d(e,{o:function(){return r}});var a=function(t){var e;return{id:t.id,tenDonVi:t.tenDonVi,email:t.email,dienThoai:t.dienThoai,parentId:null!==(e=t.parentId)&&void 0!==e?e:0,trangThai:t.trangThai}},i=function(t){return{id:t.id,tenDonVi:t.tenDonVi,email:t.email,dienThoai:t.dienThoai,parentId:t.parentId,capTren:t.parent,trangThai:t.trangThai}},o=function(){return{id:null,tenDonVi:null,email:null,dienThoai:null,parentId:0,trangThai:1}},r={toJson:a,fromJson:i,baseJson:o}},32012:function(t,e,n){n.r(e),n.d(e,{default:function(){return I}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LayoutDefault",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("IBreadcrumb",{attrs:{items:t.breadcrumbs}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-card",[n("v-toolbar",{attrs:{dense:"",elevation:"0"}},[n("v-toolbar-title",[t._v("DANH SÁCH")]),n("v-spacer"),n("v-text-field",{staticClass:"mr-2",staticStyle:{"max-width":"210px"},attrs:{label:"Tìm kiếm",placeholder:"Nhập từ khóa","hide-details":"",dense:""},model:{value:t.keySearch,callback:function(e){t.keySearch=e},expression:"keySearch"}}),n("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{icon:"",color:"primary",to:"DonViHanhChinh/ThemMoi"}},a),[n("v-icon",[t._v(" mdi-plus-circle ")])],1)]}}])},[n("span",[t._v("Thêm mới")])]),n("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("span",t._g({},a),[n("v-btn",{staticClass:"mr-1",attrs:{color:"error",icon:"",disabled:0===t.rowSelected.length},on:{click:function(e){return t.fnConfirm(!0)}}},[n("v-icon",[t._v("mdi-delete-circle")])],1)],1)]}}])},[n("span",[t._v("Xóa ")])])],1),n("v-divider"),n("IDataTable",{attrs:{headers:t.headers,items:t.items,total:t.totalRow,loading:t.loading},on:{"datatable::pagination":function(e){t.pagination=e},"datatable::selected":function(e){t.rowSelected=e}},scopedSlots:t._u([{key:"item.capTren.tenDonVi",fn:function(e){var a=e.value;return[n("span",null!=a?[t._v(t._s(a))]:[t._v("-")])]}},{key:"item.action",fn:function(e){var a=e.item;return[n("ContextMenu",{attrs:{items:[{name:"Chỉnh sửa",icon:"mdi-file-document-edit-outline",color:"blue",url:"DonViHanhChinh/"+a.id},{name:"Xóa",icon:"mdi-delete-circle",color:"red",fn:function(){return t.fnConfirm(!1,a)}}]}})]}}],null,!0)})],1),n("v-dialog",{attrs:{scrollable:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",{attrs:{width:"400"}},[n("v-card-title",[t._v("HỆ THỐNG")]),n("v-divider"),n("v-card-text",{staticClass:"pa-4"},[n("p",{staticStyle:{"font-size":"15px"}},[t._v(" Mọi thông tin liên quan sẽ bị mất theo. Bạn chắc chắn muốn xóa? ")])]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{elevation:"0",color:"warning darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v(" Không ")]),n("v-btn",{attrs:{dark:"",elevation:"0",color:"red"},on:{click:t.fnDelete}},[t._v(" Có ")])],1)],1)],1)],1)],1)],1)},i=[],o=n(67906),r=n(16198),l=(n(41539),n(21249),n(21673)),c=n(33578),s=n(42013),d=n(94472),u=n(30993),h={name:"DonViHanhChinh-index",metaInfo:{title:"Đơn vị hành chính",titleTemplate:"%s - ĐÁNH GIÁ CHỈ SỐ CẢI CÁCH HÀNH CHÍNH SA ĐÉC",htmlAttrs:{lang:"vi",amp:!0}},components:{LayoutDefault:c.Z,IBreadcrumb:s.Z,IDataTable:d.Z,ContextMenu:u.Z},data:function(){return{breadcrumbs:[{text:"DASHBOARD",disabled:!1,href:"Dashboard"},{text:"ĐƠN VỊ HÀNH CHÍNH",disabled:!1,href:"/Auth/DonViHanhChinh"}],singleSelected:{},rowSelected:[],pagination:null,keySearch:null,headers:[{text:"Đơn vị",value:"tenDonVi",width:260},{text:"Đơn vị cấp trên",value:"capTren.tenDonVi",width:260,sortable:!1},{text:"Email",value:"email",width:210},{text:"Điện thoại",value:"dienThoai",width:160},{text:null,value:"action",align:"right",width:50,sortable:!1}],items:[],totalRow:0,loading:!1,dialog:!1}},watch:{pagination:function(){this.fnGetList()},keySearch:function(){var t=this;clearTimeout(this._timerId),this._timerId=setTimeout((function(){t.fnGetList()}),600)}},methods:{fnGetList:function(){var t=this;return(0,r.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("auth/don-vi",{params:{page:t.pagination.page,limit:t.pagination.itemsPerPage,sortBy:t.pagination.sortBy[0],sortDesc:t.pagination.sortDesc[0]?1:0,content:t.keySearch}}).then((function(e){t.items=e.data.data.map((function(t){return l.o.fromJson(t)})),t.totalRow=e.data.totalRow})).finally((function(){t.loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},fnConfirm:function(t,e){this.dialog=!0,t||(this.singleSelected=e,this.rowSelected=[])},fnDelete:function(){var t=this;return(0,r.Z)((0,o.Z)().mark((function e(){var n,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialog=!1,n=[],t.rowSelected.length>0?n=t.rowSelected.map((function(t){return t.id})):n.push(null===(a=t.singleSelected)||void 0===a?void 0:a.id),e.next=5,t.$axios.post("auth/don-vi/xoa-don-vi",{ids:n}).then((function(e){t.$store.dispatch("SnackbarStore/showSnackBar",e.data),t.fnGetList()})).catch();case 5:case"end":return e.stop()}}),e)})))()}}},v=h,f=n(1001),m=n(43453),p=n.n(m),g=n(680),b=n(32371),w=n(37118),x=n(82102),S=n(4497),T=n(11418),C=n(96428),D=n(62877),V=n(99762),k=n(55978),Z=n(36656),_=n(27921),H=n(19330),y=(0,f.Z)(v,a,i,!1,null,null,null),I=y.exports;p()(y,{VBtn:g.Z,VCard:b.Z,VCardActions:w.h7,VCardText:w.ZB,VCardTitle:w.EB,VCol:x.Z,VDialog:S.Z,VDivider:T.Z,VIcon:C.Z,VRow:D.Z,VSpacer:V.Z,VTextField:k.Z,VToolbar:Z.Z,VToolbarTitle:_.qW,VTooltip:H.Z})}}]);
//# sourceMappingURL=681-legacy.20b226df.js.map